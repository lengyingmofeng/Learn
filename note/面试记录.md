

# 一个培训公司
## 反射和泛型
## explain主要看解析出来的哪些字段
## Token存放在前端哪里
## 如何防止Token丢失
## 不用拦截器进行token校验，改用aop应该怎么实现
## 跨域怎么实现
## 分布式锁
## Redis持久化
## 使用的是什么Linux系统，CentOS环境变量分类
## 笔试
- [x] 手写冒泡排序
- [x] 手写单例模式
- [x] 手写谈谈你对Spring的理解
- [x] 手写jsp和Servlet的区别于共同点

# <font style="color:rgb(51, 51, 51);">大云科为 - 小公司</font>
一面：

## <font style="color:rgb(51, 51, 51);">MyBatis返回多个结果集</font>
## <font style="color:rgb(51, 51, 51);">创建线程的几种方式，哪种方式好</font>
## <font style="color:rgb(51, 51, 51);">什么是消息队列</font>
## <font style="color:rgb(51, 51, 51);">HashMap如何解决Hash冲突</font>
## <font style="color:rgb(51, 51, 51);">jdk1.8为什么要把HasMap改成红黑树</font>
## <font style="color:rgb(51, 51, 51);">MySQL事物隔离机制有几种</font>
## <font style="color:rgb(51, 51, 51);">MySQL的聚合函数有哪些</font>
## <font style="color:rgb(51, 51, 51);">Synchronized加到代码块上和加到方法上有什么区别</font>
+ <font style="color:rgb(55, 65, 81);">代码块的作用范围比方法更灵活</font>
+ <font style="color:rgb(55, 65, 81);">代码块的性能可能更好	</font>
+ <font style="color:rgb(55, 65, 81);">使用</font>synchronized<font style="color:rgb(55, 65, 81);">方法时，您锁定的是对象本身（对于实例方法）或类（对于静态方法）。</font>

## <font style="color:rgb(51, 51, 51);">说说你对集合的了解</font>
<font style="color:rgb(51, 51, 51);"></font>

## <font style="color:rgb(51, 51, 51);">笔试：</font>
### <font style="color:rgb(51, 51, 51);">Cookie和Session的区别</font>
### <font style="color:rgb(51, 51, 51);">String 和 StringBuffer、StringBuilder 的区别是什么？  </font>
### <font style="color:rgb(51, 51, 51);">SQL题目 学生表 id,name，课程表 id name，学生课程成绩表 sid  cid score</font>
+ <font style="color:rgb(51, 51, 51);">查询成绩不为空</font>
+ <font style="color:rgb(51, 51, 51);">成绩低于平均分</font>

### <font style="color:rgb(51, 51, 51);">遍历HashMap的几种方式</font>
### <font style="color:rgb(51, 51, 51);">两种设计模式</font>
### <font style="color:rgb(51, 51, 51);">写两种排序算法（我写的冒泡排序，选择排序）</font>
<font style="color:rgb(51, 51, 51);"></font>

<font style="color:rgb(51, 51, 51);"></font>

<font style="color:rgb(51, 51, 51);"></font>

# <font style="color:rgb(51, 51, 51);">优管网 Java实习生</font>
## 简单的自我介绍
## 你使用JWT一般存储些什么，是明文存储吗？
## 你都用Redis做些什么？我看你解决过缓存击穿，缓存雪崩，缓存穿透那你说说都是些什么？你怎么解决的？
## 我看你用了RabbitMQ，那你说说你的业务是怎么做的？（然后我回答）那你的业务应该要有一个扣减库存的功能吧？你的怎么没有是设计的时候没有考虑到吗？
## 简单介绍最近做的这个CodeGeeX项目（代码生成器）
## 那你说说你的双检索锁单例模式是怎么做的于其他的单例模式有什么区别？
## 你学过SpringCloud吗？它有哪些组件
## 你有用过Oracle吗？
## 然后就是反问环节


# 树字信息
## 简单的自我介绍
## Java8新特性有哪些
## HashMap的底层原理
## hashMap是什么时候变成红黑树，它的<font style="color:rgb(47, 48, 52);">负载因子</font>你知道吗
<font style="color:rgb(47, 48, 52);">数组和红黑树或链表，扩容在早些版本是创建一个新数组然后计算hash放入新数组，后续版本就直接移到新数组里面，不用再计算，负载因子是数组里面的位置被占满的百分比达到多少会扩容</font>

## 你知道MySQL的事物吗？它默认的隔离级别是什么
## 你一般用Redis干一些什么？
## 你用过哪些设计模式？（我说了代码生成器的双检索模式）？那你说说你是怎么做的？
## 你学过SpringCloudAlibaba吗? 它有哪些组件
然后直接要我回去等通知，下意识把简历给了我，然后发现他在简历上写了东西，把简历收了回去



# 蓬莱数存
## Java和Python的线程和进程有什么区别
## 线程和进程还有锁你能讲讲嘛
## 看你优化了SQL能说说有哪些嘛？
## MySQL和Redis它们有什么区别？它们分别主要用来干什么
## Redis事物是怎么实现的
## MySQL的聚合函数有什么特点
+ 这个问题回答错误了

## 你平时用到的数据结构有哪些
## 你这个 CodeGenX 这个项目是自己0~1开发的嘛
## 你这个对象存储是什么
## 你这个项目遇到过哪些问题？
## 那你说说一下你的项目流程和未来准备怎么去完善
## 那你说说你这个瑞幸咖啡主要做了些什么？
+ 我说这是我根据苍穹外卖和黑马点评继续二次开发的项目

## 那这个项目有什么新特点？
+ 说了一下对这个项目进行优化，苍穹外卖Redis用的比较少，结合了黑马点评的Redis去缓存了一些信息。然后Redis做消息队列不太好，去学了RabbitMq去做消息队列。然后想着把项目部署起来就去学了Docker部署

## 牛客网一个笔试题






# 泛微网络
## 一面
### 简单的自我介绍
### Java面向对象的特征？简单说说这三大特征？
### MySQL分页用什么
### 统计数据表某一列用什么
### MySQL Group by 分组后过滤用什么
### 如何中止一个正在运行的线程
### 你想要从事新项目开发还是在成熟项目开发
### 那你平时是怎么学习新东西的？学习习惯能讲讲吗
### 那你平时有遇到些什么好的项目和博客，分享一下
### 那你简单的说说你写的这个项目是干什么的？
### 实习期望工资，转正期望工资
### 多久能到岗？
## 二面
### <font style="color:rgb(51, 51, 51);">String 和 StringBuffer、StringBuilder 的区别是什么？  </font>
<font style="color:rgb(51, 51, 51);">说了一下String底层是一个final char[]，每一次值的改变都是新建一个数组返回出去。而其他两个是在原有的char数组上进行操作。然后Buffer有一个同步代码块线程是安全的，String和Builder是线程不安全的</font>

### <font style="color:rgb(51, 51, 51);">String类型怎么转成整形 （没回答好）</font>
<font style="color:rgb(51, 51, 51);">直接而说记不太清楚了，用一个类里面一个par什么方法可以转</font>

### <font style="color:rgb(51, 51, 51);">String类有哪些常用的方法</font>
equales，length， tostring，replace，substring，split等

### <font style="color:rgb(51, 51, 51);">Java面向对象的三大特征</font>
<font style="color:rgb(51, 51, 51);">常规八股</font>

### <font style="color:rgb(51, 51, 51);">集合的话都有哪些类？List里面我们常用的方法都有哪些？List中按照自己想想法来排序应该怎么实现</font>
<font style="color:rgb(51, 51, 51);">常规八股，那个排序说了一下sort方法</font>

### <font style="color:rgb(51, 51, 51);">你Map常用吗？那如何遍历Map集合</font>
<font style="color:rgb(51, 51, 51);">说自己一般用forEach和lambda表达式去遍历</font>

### <font style="color:rgb(51, 51, 51);">如何写一个线程？</font>如何中止一个正在运行的线程？那<font style="color:rgb(25, 27, 31);">interrupt和stop两个方法有什么不一样</font>
<font style="color:rgb(25, 27, 31);">说了一下stop是一个被遗弃的方法，不被推荐使用</font>

### <font style="color:rgb(25, 27, 31);">IO 里面的字符流和字节流两种如何装换</font>
<font style="color:rgb(25, 27, 31);">这个问题没回答上来</font>

### <font style="color:rgb(25, 27, 31);">字符流里面有什么类，字节流里面有什么类</font>
<font style="color:rgb(25, 27, 31);">也没回答上来</font>

### <font style="color:rgb(25, 27, 31);">Java异常错误有哪一些</font>
<font style="color:rgb(25, 27, 31);">说了runtimeException，Exception，</font>

### <font style="color:rgb(25, 27, 31);">平时打日志用哪些类</font>
@slaf4j @lombok

### <font style="color:rgb(25, 27, 31);">一个字符串有</font>`<font style="color:rgb(25, 27, 31);">1,2,3,4,5;6,7;8;9</font>`<font style="color:rgb(25, 27, 31);">我要变成 1234567应该怎么切</font>
用split切片然后在用join凭借，面试官这种方式效率不高

或者使用正则表达式

### <font style="color:rgb(25, 27, 31);">SpringMVC的执行流程</font>
常规八股文，太久没看忘记了，说了一下DispatchServlet，然后HandlerMapping。然后面试官说你记得关键点就差不多了。

### <font style="color:rgb(25, 27, 31);">Get请求和Post请求有什么不一样</font>
回答的有点乱，说了一下Get请求参数是放在url里面的，post是在请求体里面，然后post请求更加安全。请求默认的是get，post请求要用postman或者apifox这种工具发起

### <font style="color:rgb(25, 27, 31);">四大作用域是哪些方面的？</font>
这个问题开始没太理解，后面面试官提醒了一下（<font style="color:rgb(77, 77, 77);">page， request， session，application),然后回答的稀里糊涂</font>

### <font style="color:rgb(25, 27, 31);">怎么写一个拦截器？</font>
<font style="color:rgb(0, 0, 0);">实现拦截器接口（HandlerInterceptor）的前置拦截方法（preHanlde），或者用aop的环绕通知去实现（这里应该再说一句自定义注解的）</font>

### <font style="color:rgb(25, 27, 31);">@Controller 、@Service、@Component的区别</font>
这个问题把component搞混了，我因为是<font style="color:rgb(77, 77, 77);">@Repository，直接说的是dao层。</font>

### <font style="color:rgb(25, 27, 31);">淘宝一个支付接口，你想要调用应该怎么调用</font>
没太理解面试官的意思，问了一下是本地调用还是分布式调用，面试官说就是单体框架，你要调用这个类怎么调用。然后说直接注入这个类，面试官问我用什么注入，回答了用`@Autowired`，`@Resource`, 也可以用lombok里的一个注解`@RequiredArgsConstructor`，添加一个final也可以

### <font style="color:rgb(25, 27, 31);">MySQL分页用什么？我的数据库每页是10条数据，我要查第三页的limit后面两个参数怎么写</font>
limit， 忘记了limit是下标是从0开始还是从1开始的了，思考了半天说了一个30,10。面试官笑了说你还是第四页的数据，我反应过来是从0开始的了

### <font style="color:rgb(25, 27, 31);">MySQL里面结果集去重复用什么</font>
distinct 

### <font style="color:rgb(25, 27, 31);">MySQL排序的关键字是什么</font>
order by 但是我搞错了，我因为说的是group by

### <font style="color:rgb(25, 27, 31);">MySQL分组的关键字，分组之后数据过滤用什么？分组的集合函数</font>
group by having sum，avg，max，min，count

### <font style="color:rgb(25, 27, 31);">A表5*3，B表5*3， 我要查出10*3应该怎么查</font>
inner  join

### <font style="color:rgb(25, 27, 31);">如何查询SQL特别慢，应该怎么解决</font>
explain去解析，看是走了索引还是全表扫描，然后问我然后呢？然后我说具体问题具体分析

### <font style="color:rgb(25, 27, 31);">如何打印一个9 * 9 乘法表</font>
不多说很简单

### <font style="color:rgb(25, 27, 31);">如何打印一个空心长方形</font>
也很简单，但是回答的时候有点乱，因为面了很久了

### <font style="color:rgb(25, 27, 31);">SpringCloud 有用吗？里面的熔断有听过吗</font>
我说用的SpringCloudAlibaba那一套，没用过





# <font style="color:rgb(102, 102, 102);">深圳驾控科技有限公司</font>
## 一面
### 自我介绍
### 你这个瑞幸咖啡是个什么项目？管理系统吗？
小程序加管理系统

### 你的项目里面用了JWT并用Redis存储，把这个流程讲解一下
前端携带用户账号密码传给后端，后端去数据库里面查，使用hutool工具包，去生成token并把这个token存到Redis中，并返回给前端，前端在保存到请求头中。 

### 假如你的JWT在使用时过期了呢？就强制退出吗？
### Mybatis中#{}和${}的区别
### 你这个封装Redis组件库是代表什么？
这里没回答好，应该在说说自己解决了缓存击穿，缓存雪崩之内的

### 你的热点缓存key是怎么做的？
回答错了，直接回答了缓存处理，应该回答预热缓存

###  像你第一个项目（代码生成器）为什么会想着做这么一个低代码的项目
面试官说我这个项目用上AI，会变得更加有意思些。这个项目对于企业级来的话没有什么要问的

### SpringCloud Alibaba你是有去搭建过吗
### 双检索模式的synchronized和volatile分别是做了什么作用
+ **volatile**<font style="color:rgb(13, 13, 13);">保证了实例变量的可见性和防止指令重排序，确保了单例模式中的正确性。</font>
+ **synchronized**<font style="color:rgb(13, 13, 13);">确保了实例的初始化过程是线程安全的，防止了多个线程同时创建实例。</font>

### MYSQL的事物隔离级别有哪几种
### Mybatis中char类型和varchar类型有什么区别
+ **char**<font style="color:rgb(13, 13, 13);">和</font>**varchar**<font style="color:rgb(13, 13, 13);">的主要区别在于存储方式和适用场景：</font>**char**<font style="color:rgb(13, 13, 13);">是定长的，适合固定长度的字符串；</font>**varchar**<font style="color:rgb(13, 13, 13);">是变长的，适合长度不固定的字符串。</font>
+ <font style="color:rgb(13, 13, 13);">在MyBatis中，这些区别主要体现在数据库表的定义和映射配置上，而在实际操作中，MyBatis会根据数据库的定义生成相应的SQL语句并处理数据。</font>

### Mybatis常见的关联查询有哪些
[https://zhuanlan.zhihu.com/p/348503022](https://zhuanlan.zhihu.com/p/348503022)

### 像左连接，右连接，自连接在两张表的查询下会是怎样的效果
### 那SQL两个方面入手，查询这一块你平时是怎么优化的
### 联合索引的匹配规则是什么样子
### Spring AOP 应用在哪些场景下
### SpringBoot中的注解	
### 面试官给我介绍公司基本情况，然后就是反问
### 讲下自己的职业规划
### 9点到6点，大小周，加班有补贴有加班费




# 增长超人
## 自我介绍
## SpringCloudAlibaba的组件有哪些
Nacos, Geatway, Ribbon, Sentinel, Feign

正确的：Nacos ，Sentinel， Dubbo， RocketMQ， Seata

## 一个A服务调用一个B服务，它的这个底层原理是怎么样的
在 Spring Cloud Alibaba 中，A 服务调用 B 服务的整个过程大致如下：

1. **注册与发现**：B 服务启动并向 Nacos 注册自己。A 服务向 Nacos 查询 B 服务的实例信息。
2. **负载均衡**：A 服务通过 Ribbon 等负载均衡策略，从 Nacos 获取的实例列表中选择一个 B 服务实例。
3. **请求调用**：A 服务通过 Feign 客户端或 RestTemplate 发起 HTTP 请求调用 B 服务的接口。
4. **响应处理**：B 服务处理请求后返回数据。A 服务接收响应并进行业务处理。
5. **异常与重试**：如果调用失败，进入重试机制。若多次重试失败则进入熔断流程。



A 服务调用 B 服务涉及多个底层步骤和组件：

+ **服务注册与发现**确保服务的动态注册和查询。
+ **负载均衡**提高了服务调用的可用性。
+ **网络协议和序列化**实现了跨网络的数据传输。
+ **重试、熔断与降级**保障系统的高可用性和稳定性。

通过服务注册中心、负载均衡和网络协议的协作，A 服务可以动态、安全地调用 B 服务。

## MySQL索引失效的场景
MySQL 索引失效的场景主要包括以下几类：

1. 条件导致索引无法使用：如 `!=`、`IS NULL`、`LIKE '%abc'` 等。
2. 数据类型不一致：查询条件的类型和字段类型不一致。
3. 使用函数或表达式：条件中包含函数或表达式的计算。
4. 不遵循复合索引最左前缀原则：未包含复合索引的左侧字段。
5. 范围查询后的索引失效：复合索引中范围查询字段后面的字段索引失效。

在设计索引和编写查询时，遵循索引的最佳实践，可以避免常见的索引失效情况，提高 MySQL 的查询效率。

## 有用过消息队列和ES吗
## 你能讲一下FreeMarker 这个技术吗？
## FreeMarker是前端技术吗？
## Redis分布式锁你是怎么去用的？
## 让你自己去实现一个延迟队列不用中间件你会怎么设置？
## 对于软件开发这个行业你自己未来规划有什么想法？
## 那你平时如何自我提升？
## 反问
## cafeine缓存，我不设置初始容量个失效时间，一直put数据，会不会把内存撑爆吗?我机器内存不够，并且不设置失效时间和初始容量，我怎么保证内存中一直是热点数据?
+ 会的
+ <font style="color:rgb(55, 65, 81);">根据数据的权重来管理缓存，可以使用</font>weigher<font style="color:rgb(55, 65, 81);">方法设置权重函数，并结合</font>maximumWeight<font style="color:rgb(55, 65, 81);">方法设置最大权重</font>

<font style="color:rgb(55, 65, 81);"></font>

<font style="color:rgb(55, 65, 81);"></font>

# <font style="color:rgb(55, 65, 81);">平域科技</font>
项目方面:

Q:你这个数据库和缓存的双写一致性是如何保证的?

A:我使用的方式是延迟双删策略，先删除一次缓存然后更新数据库然后让线程休眠了 2 ms再继续删除一次缓存



Q:那还有没有别的实现方式呢?

A:我了解的还有像使用一些消息中间件来实现异步的删除缓存，但具体的实现就没有实践过了



Q:你说用到了定时任务进行缓存预热，那如果你的项目是多机部署的，你怎么保证这个定时任务只会执行一次呢?

A:(这里鱼皮在做项目的时候说到过，但我没有去实现)可以用分布式锁来实现。



Q:你了解哪些分布式锁呢?它们的底层实现你了解吗?

A:我在实际做项目的时候，使用过 Redission 的分布式锁，它的底层是使用 setnx 的命令配合 lua 脚本实现的,



Q:分布式锁怎么保证只有一个线程抢到锁呢?

ps:这里我比较晕，感觉这个问题有点显而易见又有一点不太好表达的感觉，然后随便说了一些自己的理解,



Q:你使用 Redis 的 list 实现了用户的点赞功能，可以介绍-下吗?

ps:这个就是经典黑马点评里的内容了。

A:给被点赞的帖子创建一个 ist集合，有用户给帖子点赞就往这个 ist 中添加用户的 id，这样还可以判断用户是否已经点过赞，然后进行取消点赞的处理，



Q:那么当请求比较频繁的时候，你怎么保证数据的正确性呢?

A:我使用了限流的方式来实现对接口的请求的限制，请求过多的时候，有一部分请求是会被拒绝的。



<font style="color:rgb(47, 48, 52);">Q：针对上面提过的那么问题，那么在什么情况下，会出现数据异常问题呢？</font>

<font style="color:rgb(47, 48, 52);">ps：我大概说了一下，前端可能请求了数据，但是在网络传输的过程中数据丢失了可能会造成操作失败导致数据异常的问题。然后后面面试官问我你知道怎么在前端解决这个问题吗。我说不太清楚，她说没事继续思考一下，然后我又说那就在前端请求之后，后端需要返回相应的提示信息，那么前端可以根据反馈信息判断操作是否成功。</font>

<font style="color:rgb(47, 48, 52);">其实我感觉这个问题有点奇怪，我自己答的也有点奇怪，不过面试官的态度确实挺温和的，还鼓励我慢慢思考一下，别急。</font>

<font style="color:rgb(47, 48, 52);"></font>

Q：除了限流之外你还有没有别的思路？

A：我大概说了一下使用锁机制来对操作进行限制的思路。

  


Q：你使用了 guava 和 Redisson 的 RateLimiter 进行限流，你觉得它们的区别是什么？

ps：这里我不太清楚，大概说了一下我在使用的过程中没有什么感觉到什么明显的区别。后面面试官说这方面的知识你下去可以继续了解一下，他们俩的区别还是蛮大的。







# 高灯科技
## 自我介绍
## 我们Java是面向对象语言，它的特征是什么
## 一个类可以继承多个类吗？
## 接口可以继承多个接口吗？接口继承有什么意义？
可以多继承，假设有一个应用需要处理不同类型的用户行为，比如 `AdminUser`、`RegularUser`、`GuestUser`，每种用户行为由不同的接口表示，可以通过接口继承进行组合。

```java
interface CanRead {
    void read();
}

interface CanWrite {
    void write();
}

interface CanDelete {
    void delete();
}

interface AdminUser extends CanRead, CanWrite, CanDelete {
    void manageUsers();
}

interface RegularUser extends CanRead, CanWrite {}

interface GuestUser extends CanRead {}
```

在上面的例子中，`AdminUser`、`RegularUser` 和 `GuestUser` 接口分别继承不同的父接口，从而具备不同的行为权限。这种设计不仅解耦了权限逻辑，还允许在系统扩展新用户类型时更灵活地管理用户权限。

## 一段伪代码
```java
List<Student>
// 然后添加了6次 student
list.add(student)

Student{
 age = 6;   
}
// 问 list.get(0)等于多少

```

## HashMap的key可以为空吗？HashMap的Key可以有什么要求？
+ `**null**`** 键支持**：`HashMap` 支持 `null` 键，`null` 键被视为一种特殊情况处理。
+ **Key 的要求**：
    - 自定义类作为键时，必须重写 `hashCode` 和 `equals` 方法。
    - 键应该尽量不可变，以确保存储位置不变。
    - 常用不可变数据类型（如 `String`、`Integer`）是推荐的 `HashMap` 键类型，因为它们默认符合 `hashCode` 和 `equals` 规则。

正确理解 `HashMap` 对 `key` 的要求，能够帮助我们避免一些潜在的错误，使得 `HashMap` 在使用中更高效、更可靠。

## 为什么最好要求为String类型？除了String类型还可以用其他类型吗？
## Spring事物失效有哪些？
1. 在 Spring 中，事务管理是保证数据一致性和完整性的重要机制。但是，事务的正常运行依赖于特定的配置和调用方式，在某些情况下事务可能会失效，导致数据未按照预期进行回滚或提交。以下是 Spring 事务失效的常见原因及解决方法。

### 1. 事务方法未被代理
Spring 的事务是通过 AOP（Aspect-Oriented Programming，面向切面编程）实现的，依赖于代理机制。事务管理通常依赖 Spring 创建的代理对象，但如果事务方法未被代理，则事务会失效。

**原因**：

+ 使用 `this` 调用类内部的事务方法时，未经过 Spring 代理，事务不会生效。

**示例**：

```java
@Service
public class MyService {
    @Transactional
    public void methodA() {
        // 调用事务方法 methodB
        this.methodB(); // 事务失效
    }

    @Transactional
    public void methodB() {
        // ...
    }
}
```

**解决方法**：

+ 在同一个类中调用事务方法时，确保通过 Spring 容器注入的代理对象来调用，例如：`myService.methodB();`
+ 通过 `@Autowired` 注入当前类的代理对象，以保证内部调用也能触发事务。

### 2. 事务注解 `@Transactional` 的作用范围不对
**原因**：

+ `@Transactional` 注解只能应用于 `public` 方法。Spring 的事务代理要求目标方法为 `public`，如果注解在 `private` 或 `protected` 方法上，事务将不会生效。

**解决方法**：

+ 确保 `@Transactional` 注解在 `public` 方法上。

### 3. 异常类型导致事务失效
**原因**：

+ 默认情况下，Spring 仅对 `RuntimeException`（未检查异常）和 `Error` 触发回滚，对于 `CheckedException`（受检查异常）不会触发回滚。

**示例**：

```java
@Transactional
public void method() throws IOException {
// 抛出受检查异常
throw new IOException("Checked Exception"); // 不会触发回滚
}
```

**解决方法**：

+ 通过 `@Transactional(rollbackFor = Exception.class)` 指定需要回滚的异常类型，包括 `CheckedException`。
+ **示例**：`@Transactional(rollbackFor = Exception.class)`

### 4. 自定义异常未被捕获或不在回滚配置中
**原因**：

+ Spring 事务默认不会回滚未配置的自定义异常。

**解决方法**：

+ 通过 `rollbackFor` 属性指定需要回滚的异常，例如：`@Transactional(rollbackFor = { CustomException.class })`。

### 5. 非 Spring 管理的事务方法
**原因**：

+ 如果事务方法不在 Spring 容器管理的 Bean 中，则事务不会生效。

**解决方法**：

+ 确保事务方法所在的类是由 Spring 容器管理的 Bean，例如通过 `@Service` 或 `@Component` 注解将类纳入 Spring 容器管理。

### 6. 数据源未配置为支持事务
**原因**：

+ 如果未正确配置事务管理器，或使用的数据库引擎不支持事务（如 MySQL 的 MyISAM 引擎），则事务将失效。

**解决方法**：

+ 使用支持事务的数据库引擎（如 MySQL 的 InnoDB 引擎）。
+ 确保在 Spring 配置中正确设置事务管理器（如 `DataSourceTransactionManager`）。

### 7. 只读事务误用导致事务失效
**原因**：

+ 通过 `@Transactional(readOnly = true)` 声明的只读事务用于优化查询性能，但在只读事务中进行修改操作不会生效，可能导致事务未提交或回滚。

**解决方法**：

+ 仅在只读操作（如查询）中使用 `readOnly = true`，避免在只读事务中执行数据修改操作。

### 8. 多线程导致事务失效
**原因**：

+ Spring 的事务管理是基于线程绑定的，如果在一个事务中启动多线程，那么在新线程中事务将失效，因为新线程无法访问原始线程的事务上下文。

**解决方法**：

+ 避免在事务中直接启动多线程。
+ 使用消息队列、异步事件等机制将任务放入事务之外的流程中处理。

### 9. 事务传播属性配置不当
Spring 事务的传播属性决定了方法间事务的传播行为。配置不当可能导致事务失效或不符合预期。

**常见传播属性**：

+ `REQUIRED`：如果存在当前事务则加入，否则新建事务。
+ `REQUIRES_NEW`：始终新建一个独立事务，暂停当前事务。
+ `NESTED`：嵌套事务，支持回滚到子事务。

**问题**：

+ 如果方法 A 开启了事务，方法 B 使用 `REQUIRES_NEW` 调用，B 的事务独立于 A，A 回滚时不会影响 B。

**解决方法**：

+ 根据业务需求合理设置传播属性。

## 讲解一下策略模式？
## 那你讲一下模板方法模式？模板方法模式包含哪几部分
+  <font style="color:rgb(13, 13, 13);">模板方法模式（Template Method Pattern）是一种行为设计模式，它定义了一个操作中的算法骨架，将某些步骤的实现延迟到子类中。通过这种方式，子类可以在不改变算法结构的情况下重新定义算法中的某些步骤。</font>
+ <font style="color:rgb(13, 13, 13);">包含抽象类和具体实现的子类</font>

## <font style="color:rgb(13, 13, 13);">下面这个SQL会走索引吗</font>
```sql
create table x (
	a int,
	b int,
	c int

)
CREATE INDEX idx_a_b_c ON x (a, b, c);

select a, b, c from x where a > ? and b > ? and c = ?;
```

## 索引是个什么样的数据结构
1. **B+树索引（B+tree Index）**<font style="color:rgb(13, 13, 13);">： B+树索引是在B树索引的基础上进行了改进，它将非叶子节点中的键值对全部转移到叶子节点中，使得叶子节点形成一个有序链表，提高了范围查询的性能。</font>

## 什么是回表
<font style="color:rgb(13, 13, 13);">在MySQL的InnoDB存储引擎中，表的数据是按照聚簇索引（即主键索引）组织的，因此聚簇索引中包含了表中所有列的数据。而非聚簇索引只包含索引列的数据和指向聚簇索引的指针（即主键的值），所以当需要访问非索引列的数据时，MySQL就需要通过聚簇索引的指针回到主键索引中查找相应的数据行，这个过程就称为"回表"。</font>

## Http请求都包含了那几部分？那请求头包含哪些东西？
1. **请求行（Request Line）**<font style="color:rgb(13, 13, 13);">： 请求行包含了请求方法、请求的URL和HTTP协议的版本信息，它们之间用空格分隔。通常的格式是：</font>**<method> <URL> <HTTP version>**<font style="color:rgb(13, 13, 13);">。例如：</font>**GET /index.html HTTP/1.1**<font style="color:rgb(13, 13, 13);">。</font>
2. **请求头部（Request Headers）**<font style="color:rgb(13, 13, 13);">： 请求头部包含了关于请求的各种信息，例如客户端类型、支持的内容类型、请求的身份验证信息等。每个请求头部包含一个名字和一个值，中间用冒号分隔，例如：</font>**Content-Type: application/json**<font style="color:rgb(13, 13, 13);">。</font>
    - <font style="color:rgb(13, 13, 13);">请求头部包含了Host、User-Agent、Accept等信息。	</font>
3. **空行（Blank Line）**<font style="color:rgb(13, 13, 13);">： 空行用于分隔请求头部和请求体，它通常是一个只包含回车换行符的空行。</font>
4. **请求体（Request Body）**<font style="color:rgb(13, 13, 13);">： 对于某些请求（例如POST请求），请求体包含了客户端发送给服务器的数据，例如表单数据、JSON数据等。请求体是可选的，在GET请求中通常为空。</font>

## 你用Redis在你的项目中解决了哪些问题？
## 你刚刚说的雪花算法是怎么实现的？那雪花算法有什么好处？




# 厦门思而立公司
## 自我介绍
## .java 和 .class 有什么区别
## 一个类中可以有多个类吗
## 一个类可以有多个公共类吗
## Java接口能多继承吗
## 异常处理类分为哪几种
## MySQL左连接和右连接有什么区别
## 如何找到数组中第一个不重复的数据
## 在不排序的情况下如何找出第二大的数
## equals 和 == 的区别
## Object 里面有哪些方法
## 你未来的规划
## 你加班的看法
# 同行者科技
1. 这个Redis自增是干什么，如果Redis崩了呢？

<font style="color:rgb(55, 65, 81);">可以使用 Redis 的 AOF 持久化方式，它可以记录每个写操作到日志文件，并在 Redis 重启时重新执行这些操作，从而实现更精细的数据恢复，减少数据丢失。</font>

<font style="color:rgb(55, 65, 81);">此外，还可以考虑以下方案：</font>

+ **混合持久化 (RDB + AOF)**<font style="color:rgb(55, 65, 81);">：结合 RDB 和 AOF 的优点，使用 RDB 进行快速的数据恢复，使用 AOF 补足 RDB 丢失的数据。</font>
+ **主从复制 + 定期备份**<font style="color:rgb(55, 65, 81);">: 将 Redis 数据同步到从节点，并定期备份数据到可靠的存储介质，即使主节点数据丢失，也可以从备份中恢复。</font>
+ **采用其他持久化方案**<font style="color:rgb(55, 65, 81);">: 考虑使用支持持久化的其他消息队列，例如 Kafka 或 RabbitMQ 的持久化插件。</font>

<font style="color:rgb(55, 65, 81);">选择合适的方案需要根据具体的业务需求和数据安全要求进行权衡。</font>

<font style="color:rgb(55, 65, 81);"></font>

<font style="color:rgb(55, 65, 81);"></font>

# <font style="color:rgb(0, 0, 0);">广东欧科空调制冷有限公司</font>
## 自我介绍
## 你都用SpringCloud Alibaba哪些组件
## 对于Nacos动态路由配置，是怎么配置的
## get_jobs是如何过滤掉不合适的求职者的
## 你的课程流程讲解一下
## 你刚刚说是前端发送请求的，如果说我用Postman模仿前端以每五秒发送请求，你有进行处理吗
## 有没有进行比如进度到某一刻，需要答题。如果要你完成这个功能你会怎么做
## Redis Set 和ZSet 有什么区别？ 那Redis的Set和ZSet跟Java的Set集合有什么区别
## 那你说说Rabbit MQ消息丢失、消息重复消费和消息顺序性等问题
## 如果Rabbit MQ 出现消费者消费不足的情况，应该怎么处理
## 那如果用线程池，如果说在消费到第50个的时候，服务崩了，剩下50个消息丢失了，你会怎么处理
## 你觉得你在这个项目里面做的最好的功能是什么？那你是怎么用 <font style="color:rgb(64,64,64);">CompletableFuture  进行优化的</font>
## <font style="color:rgb(64,64,64);">你在这个项目里面用过哪些集合类。那你说说HashMap的put流程。HashMap的get流程又是怎么样</font>
## <font style="color:rgb(64,64,64);">你平时是怎么跟你的同事沟通的？如果你跟同事意见不统一会怎么办？</font>


# 深圳XXX公司
## 你知道ConcurrentHashMap 的数据结构吗？
## HashMap采用了什么数据结构
## 如果要你自己设置一个线程安全的HashMap ，你会怎么设计？
## 如果加锁你会加到什么位置上，是节点还是链表
## 你知道CAS吗？
## HTTP报文传输有哪些？
## 什么是跨域
## 你还知道JDK1.8之后的版本有哪些新特性吗？
## JVM 调优
## Spring Bean是这么注入的
## 若依用的角色访问控制机制？以及它的概念是什么
## 回答
1. 数组 + 联表 + 红黑树， 并通过 CAS  + Synchronized
2. 数组 + 联表 + 红黑树
3. 加锁
4. 联表上
5. <font style="color:rgb(60, 60, 67);">就是用一个预期值和要更新的变量值进行比较，两值相等才会进行更新。</font>

<font style="color:rgb(60, 60, 67);">AS 涉及到三个操作数：</font>

+ **<font style="color:rgb(60, 60, 67);">V</font>**<font style="color:rgb(60, 60, 67);">：要更新的变量值(Var)</font>
+ **<font style="color:rgb(60, 60, 67);">E</font>**<font style="color:rgb(60, 60, 67);">：预期值(Expected)</font>
+ **<font style="color:rgb(60, 60, 67);">N</font>**<font style="color:rgb(60, 60, 67);">：拟写入的新值(New)	</font>
6. 响应报文和请求报文
7. 首先一个url是由：协议、域名、端口 三部分组成。（一般端口默认80）。当一个请求url的协议、域名、端口三者之间的任意一个与当前页面url不同即为跨域。



# 债卫士科技
## 自我介绍
## 讲解一下项目业务 
## 你是这么封装的 Jackson 自定义序列化封装脱敏组件 
    1. <font style="color:rgb(55, 65, 81);">我定义了一个用于脱敏的 </font>`Desensitization`<font style="color:rgb(55, 65, 81);"> 注解。指定序列化时使用 DesensitizationSerialize 这个自定义序列化类</font>
    2. 并设置了一个`DesensitizationTypeEnum`<font style="color:rgb(55, 65, 81);"> 是脱敏策略的枚举，里面包含用户id，手机号，邮箱等字段</font>
    3. <font style="color:rgb(55, 65, 81);">自定义序列化类继承 </font>`JsonSerializer`<font style="color:rgb(55, 65, 81);">，实现 </font>`ContextualSerializer`<font style="color:rgb(55, 65, 81);"> 接口，并重写 </font>`serialize（）`<font style="color:rgb(55, 65, 81);"> 和 </font>`createContextual()`<font style="color:rgb(55, 65, 81);"> 这两个方法。</font>

##  首页响应时长你是这么从4秒优化到600ms
## 你平时都会进行哪些SQL优化
## 这么查看这个SQL有没有走索引
## Explain 解析主要看哪些？
## Spring IOC 和 AOP 讲一下
## 单例模式饿汉式和懒汉式有什么区别
## Spring 依赖注入方式有哪些
## 线程的创建方式
## 怎么保证线程的安全
## 我们常用的集合中有哪些是线程安全的
## 你能讲一下你参与的开源项目做了哪些东西
## 大文件传点续传是这么做的
## 你们之前的项目业务开发流程是怎么样的
## 你平时都用哪些Linux命令和Docker命令
## 你个人开发的习惯有哪些
## 你平时遇到一些不会的业务，会怎么去学习？遇到不会处理的问题？你会怎么办




# 深圳超频链接网络科技
## 为什么离职
## 目前你面试了多少家，有几家Offer
## Http和Https有什么区域，端口号分别是多少？
| 特性 | HTTP | HTTPS |
| --- | --- | --- |
| **传输安全性** | 明文传输，数据不加密 | 加密传输，使用 SSL/TLS 加密数据 |
| **身份验证** | 无法验证数据来源 | 通过证书验证服务器身份 |
| **端口号** | 默认端口为 80 | 默认端口为 443 |
| **性能** | 相对较高，无加密开销 | 相对较低，存在加密和解密开销 |
| **URL 格式** | `http://` | `https://` |
| **典型应用场景** | 非敏感数据的传输（如普通网页） | 传输敏感数据（如登录、支付等操作） |


## Cookie和Session有什么区别
| 特性 | Cookie | Session |
| --- | --- | --- |
| **存储位置** | 客户端 | 服务器 |
| **数据大小** | 4KB 左右 | 无硬性限制 |
| **安全性** | 较低，易被劫持和篡改 | 较高，敏感数据存储在服务器 |
| **生命周期** | 可以设置为持久性或会话级 | 会话级，用户关闭浏览器即失效 |
| **服务器资源** | 占用客户端存储，不占用服务器资源 | 占用服务器内存或数据库资源 |
| **适用场景** | 存储简单信息，如用户偏好、语言选择等 | 存储敏感数据或复杂数据，如登录状态等 |


## TCP和UPD有什么区别
| 特性 | TCP（传输控制协议） | UDP（用户数据报协议） |
| --- | --- | --- |
| **连接方式** | 面向连接，建立连接（三次握手） | 无连接，直接发送数据 |
| **传输可靠性** | 可靠传输，保证数据完整性 | 不可靠传输，不保证数据完整性 |
| **数据传输方式** | 面向字节流 | 面向数据报 |
| **传输效率** | 传输效率较低（确保可靠性） | 传输效率高 |
| **流量与拥塞控制** | 有流量控制和拥塞控制 | 无流量控制和拥塞控制 |
| **开销** | 较大（20 字节头部，复杂机制） | 较小（8 字节头部） |
| **应用场景** | 可靠数据传输，如网页、文件、邮件 | 高效传输，如视频流、游戏、局域网广播 |


### TCP三次握手为什么比四次挥手多一次
TCP 的三次握手和四次挥手是用于建立和断开连接的两个关键过程。三次握手和四次挥手的次数不同，是因为建立连接和断开连接的过程在设计上有不同的目的和实现方式。

### 三次握手的目的和过程
TCP 的三次握手用于**建立可靠的双向通信通道**。在此过程中，客户端和服务器都需要确认对方的接收和发送能力，确保双方可以可靠地进行数据传输。三次握手的流程如下：

1. **第一次握手**：客户端发送 `SYN`（同步序列编号）报文给服务器，表示希望建立连接。
2. **第二次握手**：服务器接收到 `SYN` 后，回复 `SYN + ACK`（确认）报文，表示接受连接请求并且可以正常接收数据。
3. **第三次握手**：客户端接收到服务器的 `SYN + ACK` 报文后，再次发送 `ACK` 报文，表示连接建立完成，双方可以开始数据传输。

为什么建立连接需要三次握手

三次握手的关键是确保双方都可以进行**双向通信**，具体原因如下：

+ **第一次握手**：客户端告诉服务器“我想和你建立连接”，这是一个单向的通知，服务器还不能确定客户端的接收状态。
+ **第二次握手**：服务器回复 `SYN + ACK`，表示接收到了客户端的请求，并且可以发送数据，告知客户端自己的接收和发送能力。
+ **第三次握手**：客户端回复 `ACK`，确认接收到服务器的响应，表明客户端和服务器都可以进行数据收发，至此建立双向通信的条件达成。

三次握手的关键在于，双向通信通道需要确保双方都具备收发能力。多一次确认（第三次握手）可以避免在网络不稳定或延迟情况下，出现虚假连接（如重复的连接请求导致服务器资源浪费等问题）。

### 四次挥手的目的和过程
四次挥手用于**安全地断开连接**，确保双方都可以优雅地释放资源。四次挥手的流程如下：

1. **第一次挥手**：客户端发送 `FIN`（结束）报文给服务器，表示不再发送数据，但还能接收数据。
2. **第二次挥手**：服务器接收到 `FIN` 后，回复 `ACK` 报文，表示确认客户端的断开请求，但服务器还未发送完数据。
3. **第三次挥手**：服务器完成数据发送后，发送 `FIN` 报文，表示自己也不再发送数据。
4. **第四次挥手**：客户端收到服务器的 `FIN` 后，回复 `ACK` 报文，确认断开连接。

至此，客户端和服务器的连接正式断开。

### 为什么断开连接需要四次挥手
四次挥手的原因在于，**TCP 的连接是全双工的（即双方都能同时发送和接收数据）**，因此断开连接需要双方分别关闭各自的发送通道。具体原因如下：

+ **客户端的 FIN 表示关闭发送**：第一次挥手中，客户端发送 `FIN` 表示不再发送数据，但还可以接收数据，这只是单方向的关闭。
+ **服务器的 ACK 表示确认客户端的 FIN**：服务器接收客户端的 `FIN` 后回复 `ACK`，表示它知道客户端不再发送数据，但服务器可能还有数据要发送。
+ **服务器的 FIN 表示自己关闭发送**：当服务器数据发送完毕后，才会发送 `FIN`，表示它也不再发送数据了。
+ **客户端的 ACK 表示确认服务器的 FIN**：客户端收到服务器的 `FIN` 后，发送 `ACK` 确认，表示已接收完服务器数据，连接可以完全断开。

四次挥手过程中，双方都要分别确认对方不再发送数据，因此需要四个步骤。每次挥手分别控制着不同方向的数据流关闭。

### 总结
+ **三次握手**：确保双方的接收和发送能力正常，建立可靠的双向通信通道。
+ **四次挥手**：由于 TCP 是全双工模式，需要双方分别关闭各自的发送通道，因此需要四次挥手。

建立连接的三次握手和断开连接的四次挥手的差异，是因为三次握手只需要确认双向通信能力，而四次挥手则需要双方分别确认各自的数据发送已经完成，从而保证连接的完全断开。



## Java是值传递还是引用传递
## Java的Sleep会不会让出CPU资源
不会

## JVM GC有什么优缺点


# 深圳非凡供应链
## 笔试题
### 多线程交替输出0和1
```java
class AlternatePrinter {
    private int flag = 0; // 标志变量，0 表示打印 0，1 表示打印 1

    public synchronized void printZero() {
        while (flag != 0) { // 如果不是打印 0 的轮次，等待
            try {
                wait();
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }
        System.out.print("0 ");
        flag = 1; // 切换为打印 1 的轮次
        notifyAll(); // 唤醒其他线程
    }

    public synchronized void printOne() {
        while (flag != 1) { // 如果不是打印 1 的轮次，等待
            try {
                wait();
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }
        System.out.print("1 ");
        flag = 0; // 切换为打印 0 的轮次
        notifyAll(); // 唤醒其他线程
    }
}

public class AlternateOutput {
    public static void main(String[] args) {
        AlternatePrinter printer = new AlternatePrinter();

        Thread threadZero = new Thread(() -> {
            for (int i = 0; i < 10; i++) { // 打印 10 次
                printer.printZero();
            }
        });

        Thread threadOne = new Thread(() -> {
            for (int i = 0; i < 10; i++) { // 打印 10 次
                printer.printOne();
            }
        });

        threadZero.start();
        threadOne.start();
    }
}
```

### 设计一个支付模块，包括微信支付，支付宝支付，银联支付以及后续会有其他支付。并画出类图
### 有一个order表，里面有id，name, order_num, create_time。找出某个月订单数量最多的商品名称。
### 写出线程安全的单例模式
## 自我介绍
## 对于笔试第三题，还有什么其它的sql查询
## 抽象类和接口有什么区别
## 你知道UML吗？UML是什么？
## MySQL索引有哪些
## 什么是聚簇索引？非聚簇索引是什么？
## 唯一索引可以有多个吗
## 如何避免索引失效
## 用过哪些设计模式？工厂模式有哪些？
## Redis和RabbitMQ主要用来干什么？
## 
# 义合信达
## 有一个方法有三个泛型参数，想要获取第三个泛型参数应该怎么获取
## 像<font style="color:rgb(0,0,0);">CompletableFuture 有很多线程池，我想A线程池去执行一个排行业务逻辑，B线程池去执行一个点赞的逻辑。应该怎么做</font>
## MySQL在进行更新操作，我没有通过id去更新。会有什么问题
##  如果我有一个表没有设置主键，有两条一样的数据去更新。会锁表还是锁行


# <font style="color:rgb(0, 0, 0);">椭圆方程（深圳）信息技术有限公司</font>
## 笔试
### 请对比Exception和Error，另外运行时异常与一般异常有什么区别
### 强引用、软引用、弱引用、幻象引用有什么区别？具体使用场景是什么？
### 谈谈Java反射机制，动态代理是基础什么原理
### 如何保证容器是线程安全的？ConcurrentHashMap如何实现搞笑地线程安全
### synchronized底层如何实现？什么是锁的升级和降级
### Java并发包提供了哪些并发工具类
### Java的并发类库提供的线程池有哪几种？分别用什么特点
### 请介绍类的加载过程，什么是双亲委派模型?
### 谈谈JVM内存区域的划分，哪些区域可能发生OutOfMemoryError？
### Java常见的垃圾收集器有哪些
### 你了解Java应用开发中的注入攻击吗
### 谈谈MySQL支持的事物隔离级别，以及悲观锁和乐观锁的应用和原理
### 谈谈Spring Bean的生命周期和作用域？
## 自我介绍
## 简单自我介绍一下你这个低代码项目
## 那你这个项目在生成的时候有没有做一些限制
## 线程与线程之间怎么进行交互
## 线程池在运行时能不能修改核心线程数
## Spring Cloud和SpringBoot有什么区别
## 什么是分布式
## 你最近有在学习什么新技术嘛？
## 你平时在通过什么方式学习新的技术
## 从一个后端的考虑，你会如何开展一个项目
## 反问 
